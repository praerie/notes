# Chapter 2: The Stages of Production

## Section 2.1: What You Will Learn from This Chapter

The second chapter is a continuation from the previous introduction to production pipelines, exploring:

* an overview of the principal stages of a film or game project
* the challenges of film and game production
* production evolution and contingency planning
* the economics of production and financial pressures

## Section 2.2: The Economics of Film Production

### Cost

Movies are lucrative but risky. Major studios spend $50-250 million before marketing and distribution, which can add a further $100 million to the total.

On average:
* 65-75% of movies lose money for their investors,
* 15-20% break even,
* and 5-10% are profitable.

To control costs in this risky business, studios are incentivized to produce movies in states or countries that offer favorable tax conditions and lower labor rates. As a result, many VFX facilities have set up operations in these locations. 

However, much of the labor is outsourced and offshored. Given the industry's use of digital technology, work can be done anywhere in the world, providing that the equipment and qualified workers are available.

### Time

Making films is time-consuming, typically taking around 36 months or more, with its commercial value hinging on 2 critical days:  the film's opening weekend. 

Release dates are often set far in advance in order to gain competitive advantage over certain weekends, such as holidays or school vacations. With a target date in mind, production begins.

Although theoretically there should be enough time to complete the film, deadlines are short. The VFX department is the last major department to complete its work, so pressure to perform efficiently is enormous.

To keep on schedule and keep rates competitive, VFX facilities take measures including but not limited to:
* Developing a robust pipeline organized into tasks for maximum efficiency
* Communicating workflow expectations to those at the studio, artists, vendors, etc.
* Using a **Digital Asset Management (DAM)** system that enables management and project producers to view the status of various shots being produced
* Communicating status of shots to studio when required
* Maintaining all equipment
* Developing benchmarks for types of shots being produced to estimate time, resource, and cost requirements
* Tracking cost to complete shots against the bid to refine the bidding proccess, enabling facility to bid competitively for future work

## Section 2.3: The Economics of Game Production

### Demographics

The video game market has evolved to be quite diverse and sizable. Per the Entertainment Software Association, the average gamer "today" (_2014 at time of publishing_) is 30 years old and has been playing games for 12 years, and there are now more adult women playing games than boys aged 17 or younger. 

### Cost

The most expensive AAA&#185; game budgets rival those of the $100 million+ budgets of Hollywood blockbusters. The cost of marketing matches or in some cases eclipses that of development.

Costs rise with each successive generation of game consoles.

&#185;**AAA** (Triple-A) &mdash; informal classification used to classify video games produced and distributed by mid-sized or major publishers, typically with higher development and marketing budgets than lower tiers

### Market Landscape

_Success is the exception rather than the rule._ In response, many game developers and publishers have attempted to reduce risk by "rinsing and repeating" what has already worked in the market, leading to a plethora of sequels and a lack of innovation in game design. However, the lower end of the market is thriving, turning away from inflated development costs of console games and towards mobile, social, and browser games to find new audiences. 

Given the market diversity, it is difficult to generalize about the demands that economic factors place upon the development pipeline: AAA games require developers to manage large data sets, track complex production jobs, and control costs tightly, while indie titles require lightweight, agile pipelines permitting rapid innovation. 

## Section 2.4: The Stages of Production

Terminology used in live action films with CG enhancements, animated features, and games has evolved along different paths, sometimes resulting in homonyms that can cause confusion.

Main stages of film production:
* Pre-production
* Production
* Post-production

Main stages of game production:
* Pre-production
* Production
* Finalling

Post-production and finalling are where the film and game industries diverge the most: film strives to conform to a predefined storyline with a linear series of VFX shots, and games provide dynamic, interactive experiences with the game engine generating visuals in response to player input.

## Section 2.5: Other Language Barriers

Artists, developers, and management may use language in different ways. For example, an artist concerned with aesthetics may describe image creation differently to a programmer concerned with the mathematics of simulating light.

Consider a spectrum of language from cold, technical logic at one end to emotional, abstract creativity at the other. 

<p align="center">
    < &mdash; <b>cold, technical logic</b> 
    &mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash; 
    <b>emotional, abstract creativity</b> &mdash; > 
    <br />
    <i>artist &hellip; designer &hellip; 
    level integrator &hellip; 
    technical artist &hellip; programmer</i>
</p>

When communicating with other groups, it is important to do so on an appropriate point of the spectrum, as they may not share your assumptions about terminology.

## Section 2.6: Pre-Production: An Overview

Pre-production, AKA "pre-pro" or "pre-prod," is the planning phase.

During pre-production, 
* the full scope of work is defined,
* possible points of failure are identified,
* the pipeline is prototyped and foundations of the "real" pipeline are laid,
* requirements are hazy,
* plans are always changing,
* new tools are explored,
* documentation and training are prepared for modelers and animators,
* and staff improvises solutions to new problems quickly.

### On the art side

The goal of the art department during pre-production is to _identify the visual style_ of the film or game. This may include:
* creating concept artwork on paper and in digital painting software,
* building test assets,
* shooting footage in the lot and brainstorming with some visual treatments,
* and **pre-visualization**&mdash;the process of creating animations or still images to help define the way in which a movie will be shot and the visual elements it will require.

Most of this work takes the form of _storyboards_ and _concept sketches_.

**Technical Artists** (TAs) and **Technical Directors** (TDs), who have both artistic sensibility and the ability to script, are invaluable when artists require ad hoc tools during pre-production. 

### On the technical side

Pre-production is the time to test and validate ideas from the creative team to minimize risk. 

Ideas that may look great as concept sketches often turn out to be technically impossible, and new cutting-edge tools may be incompatible with the rest of the pipeline. 

Prototype code is notoriously unreliable, so teams often reimplement their prototype tools completely rather than building upon them; however, sometimes "temporary" solutions become permanent due to lack of time or resources.

### Guiding Principle

In this industry, there is one simple rule to live by: 

> "The only thing that is constant is change."

## Section 2.7: Pre-Production in the Film Pipeline

In VFX, pre-production applies to all preparation involved before the camera begins rolling.

* Graphics-related tasks:
    * storyboarding
    * pre-visualization
    * gathering lighting information
    * visual research
    * concept designs for characters and environments
    * defining color palettes
    * defining assets (everything visible in the scene for CG animation or shot plates, green screens, and digital extensions for live action)
    * composition of key shots (handled during _layout_ in CG animation or during _pre-visualization_ in live action)

The result of this work may be (1) a complete 3D animation with low-res placeholder models, edited together with rough dialogue and sound effects, or (2) it may be an **animatic**&mdash;a series of still images, such as storyboard frames, cut together with the correct timings for final shots.

* Non-graphics-related tasks:
    * budgeting
    * hiring actors
    * building sets and costume design
    * for developers, identifying and fixing major gaps in pipeline

## Section 2.8: Pre-Production in the Games Pipeline

### Concept 

Defining the concept and genre of the game begins before pre-production and continues throughout this stage. 

The concept and genre play a role in decisions about game engine and pipeline setup, e.g. story-driven games may need a script, storyboard, and rules governing characters' abilities and inventories.

### Output

Game pre-production often results in two different kinds of output, the "horizontal slice" and the "vertical slice," each laying the foundation for a different aspect of production.

* **horizontal slice**:
    * consists of a broad set of gameplay features in a prototype environment known as a "white-box level," which may include untextured assets, missing animations, and rough sound 
    * serves to get a feel for the flow of gameplay and an idea of production timeline
    * results in a level that is playable from start to finish, blocked out with placeholders
    * leads to less reworking of art content later in production
    * characterized by _final-quality gameplay_

* **vertical slice**:
    * consists of a small section of the game, often a single level or part of a level, as close to shippable quality as possible
    * serves to provide confidence in the development process
    * also serves as a stress test for the pipeline and a benchmark for the quality of art assets
    * characterized by _final-quality assets_

### Goal

A common goal at the end of pre-production is to produce a **playable demo** that can be released to the public, which can only be achieved through the union of a horizontal slice with a vertical slice.

### Localization

**Localization data** is information required to create a version of the game tailored to a particular language, including on-screen translations, new voice recordings, and language-specific models and textures. 

While localization tends to be completed late in development, it is critical to plan for it during pre-production.

## Section 2.9: Production: An Overview

During production, work shifts from planning to _building_.

There is an increase in both _team size_, from a couple dozen during pre-production to possibly hundreds during production, and in _data generation_, usually orders of magnitude more.

### Output

In CG animation and games, all assets are created during this phase:
* models
* textures
* control rigs
* animation data

In the world of VFX, the term "production" refers to live shoot and the collection of on-set data, while digital assets are created during post-production.

### Hardware Restrictions

Game production is _limited_ by memory and system resources of consoles.

On the other hand, film production is _virtually unlimited_&mdash;given enough computers and time, it will render.

### Key Traits

Two key traits help manage the chaos of full production:

#### (1) Transparency 

Analogous to the 'find and replace' function in a word processor, transparency enables the pipeline team to find problematic content automatically through tools and scripts, allowing quick updates and fixes.

It is critical that large-scale changes can be made without requiring individual assets to be rewritten manually.

#### (2) Compartmentalization 

The pipeline team aims for a constellation of self-sustaining units that each do one thing well, rather than relying on a huge set of tools that are inextricably linked.

## Section 2.10: Production in the Film Pipeline

### Feature Animation Phases

There are multiple phases of feature animation production:
* brief and story planning
* production of high-resolution assets
* assets assembled into shots and building sequences
* rendering and compositing 

### The Role of a Pipeline Developer

3 most common tasks for pipeline developers during production:
* fixing bugs
* optimizing existing workflow features
* adding new workflow features:
    * details missed during original development
    * enhancements that you finally have time to work on
    * or subtle changes prompted by the way tools are being used in the context of real production

### Automation

Tasks that are performed routinely in production are often automated via software.

For example, automating the export of **geometry caches**&mdash;data files showing the position of each point on the model in each frame of the animation&mdash;frees up the animator to do more creative work.

## Section 2.11: Production in the Games Pipeline

During the production stage of a game, the focus is on producing content, such as:
* art assets,
* audio,
* gameplay elements,
* and level designs.

### Ideal Flow vs. Reality

In an ideal world, system programming and pipeline development are completed during pre-production, content creation and assembly during production, and remaining bug fixes during finalling.

However, in practice, this rarely happens&mdash;pipelines change quite significantly as weaknesses are revealed during production.

### Priorities & Compromises

Attention should be focused on the most important changes, generally fixing tools that generate the most complaints. Cost and the risk of holding up production may prohibit you from optimizing a sub-optimal pipeline.

## Section 2.12: Post-Production or Finalling: An Overview

Post-production or finalling is the last chance to improve a product. It is at this stage that *film and game pipelines diverge radically*.

In an animated feature, the film will be nearly completed with final images already rendered. 

In games, some of the most technical work is yet to come; bugs and gameplay issues are resolved during finalling. 

## Section 2.13: Post-Production in the Film Pipeline

### Feature Animations vs. Live Action

For feature animations, post-production refers to tasks carried out once final images have been created:  
* editing, 
* dimensionalization (DM), 
* digitizing footage to create a digital intermediate (DI), 
* color correction or "grading", mastering, 
* and film-out (printing the digital images to film for distribution to cinemas).

However, for live-action films, "production" refers to the live shoot and "post-production" tends to refer to anything that follows, including the VFX work (modeling, texture painting, rigging, animation, etc.).

### CBB

Many teams avoid describing shots as "final" until they have been handed over to the client.

**Could Be Better**&mdash;a term used to refer to shots that may benefit from a few minor technical or aesthetic adjustments if ***time, budget, and continuity*** permit.

### Departmentalization

Making changes to a shot depends on how many steps of the visual effects process are involved in the feedback loop. As such, films tend to go out of production department by department. 

For example, the layout pipeline will complete their work before lighting and compositing. 

When work is split between multiple facilities with their own specialties for large productions, the same thing may happen: one facility specializing in fluid simulation will finish earlier than one specializing in dimensionalization. 

## Section 2.14: Finalling in the Games Pipeline

Finalling a game is analogous to software development, where a nearly finished product is turned over to QA (Quality Assurance). 

Finalling is driven by *artistic as well as technical concerns*.

### Mastering

**Mastering** is the process of laying out the assets on a DVD or Blu-ray. This can reveal problems that were not obvious earlier, such as files that may be too large to fit.

### Milestones

At the start of finalling, the game will be "complete," but overrun with bugs. Some bugs will reflect problems with the code and others with the art assets, e.g. holes in a physics mesh that allow players to fall through the world.

**Milestones** are the formal steps of identifying and fixing problems:

* **Alpha**:
    * typically an internal milestone, negotiated between studio and publisher
    * formally complete, can theoretically be played all the way through
    * much of the artwork will be placeholders
    * performance will usually be well below predicted frame rates
    * lots of bugs
* **Content Complete**:
    * placeholders have been replaced by shippable versions of final assets, although not necessarily polished nor bug-free
    * realistic constraints on memory and run-time performance are respected
    * story arcs and basic game flow are locked 
    * graphic tweaks are ongoing, but no new cinematics, characters, or gameplay areas will be added
    * some production staff move on to other projects, while others remain for bug fixes and polishing
* **Beta**:
    * all gameplay content is complete
    * game is in shippable form, both in terms of resource use and asset quality
    * may still be issues to resolve, but game is now a buggy version of final release rather than a suggestion of it
    * play-tests and public demonstrations of the project are at their height!
        * professional testers work on the game continuously, probing for flaws and inconsistencies
        * some games also have "open beta" programs where a select number of customers play the game
* **Final**:
    * content is locked down: no new assets and changes are only permissible to fix reported bugs
    * team is drastically reduced in size to only a few who have the authority to make last-minute changes
    * the game is now ready for duplication and distribution
    * tends to be emotionally anticlimactic for the team, as most have already moved on to other projects 
 